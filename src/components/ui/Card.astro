---
export interface Props {
    title?: string;
    titleKey?: string;
    titleId?: string;
    variant?: 'default' | 'socials';
    class?: string;
}

const {
    title,
    titleKey,
    titleId,
    variant = 'default',
    class: className,
} = Astro.props;

const isSocials = variant === 'socials';
---

<div class:list={['card-wrapper', className]}>
    {title && (
        <h2 id={titleId} class="card-title" data-i18n-key={titleKey}>
            {title}
        </h2>
    )}
    <div class:list={['card', { 'card--socials': isSocials }]}>
        <slot />
    </div>
</div>

<style>
    .card-wrapper {
        flex: 0 1 auto;
        display: flex;
        flex-direction: column;
        gap: var(--space-xs);
        min-height: 0;
        max-width: 100%;
        padding: 0;
    }

    .card-title {
        padding: 0 0 0 var(--space-lg);
        font-size: clamp(1rem, 2vw, 1.125rem);
        font-weight: 700;
        line-height: 1.3;
    }

    .card {
        background: var(--panel);
        border: 1px solid var(--ring);
        border-radius: var(--br-big);
        padding: var(--space-xs);
        gap: var(--space-xs);
        display: flex;
        flex-wrap: wrap;
        min-height: 0;
        min-width: 0;
        max-width: 100%;
        box-sizing: border-box;
        height: fit-content;
    }

    .card--socials {
        flex-direction: column;
        gap: 0;
        padding: 0;
    }
</style>
