---
export interface NavItem {
    id: string;
    label: string;
    labelKey?: string;
}

export interface Props {
    items: NavItem[];
}

const { items } = Astro.props;
---

<nav
    class="navbar"
    aria-label="Secciones"
    data-i18n-attr-aria-label="nav.sections"
>
    {
        items.map((item, index) => (
            <button
                data-target={item.id}
                aria-current={index === 0 ? "page" : "false"}
                data-i18n-key={item.labelKey}
            >
                {item.label}
            </button>
        ))
    }
    <button
        class="lang-toggle"
        type="button"
        data-lang-toggle
        aria-label="Cambiar idioma a ingles"
        data-i18n-attr-aria-label="lang.toggle.aria"
        data-i18n-key="lang.toggle.label"
    >
        ES
    </button>
</nav>

<style>
    .navbar {
        position: fixed;
        left: 50%;
        top: 1vh;
        transform: translateX(-50%);
        z-index: 1000;
        height: var(--nav-h);
        display: flex;
        align-items: center;
        gap: 2px;
        padding: 5px;
        border-radius: 15px;
        background: rgba(255, 255, 255, 0.05);
        /* backdrop-filter: blur(14px) saturate(140%); */
        /* -webkit-backdrop-filter: blur(14px) saturate(140%); */
        /* box-shadow: 0 6px 24px rgba(0, 0, 0, 0.25); */
        pointer-events: auto;
    }

    .navbar button {
        appearance: none;
        border: 0;
        background: transparent;
        color: #fff;
        font-size: var(--fs-1);
        padding: 8px 12px;
        border-radius: 10px;
        cursor: pointer;
        opacity: 0.75;
        transition:
            opacity 0.2s,
            transform 0.2s,
            background-color 0.2s;
        white-space: nowrap;
    }

    .navbar button[aria-current="page"] {
        opacity: 1;
        background: color-mix(in oklab, #ffffff 16%, transparent);
    }

    .navbar button:active {
        transform: scale(0.98);
    }

    .navbar button:focus-visible {
        outline: 2px solid rgba(255, 255, 255, 0.8);
        outline-offset: 2px;
    }

    .lang-toggle {
        font-weight: 600;
        text-transform: uppercase;
    }
</style>
