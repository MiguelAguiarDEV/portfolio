---
import ProjectItem from "../ProjectItem.astro";
import type { Props as ProjectItemProps } from "../ProjectItem.astro";

export interface Props {
    title?: string;
    titleKey?: string;
    projects: ProjectItemProps[];
}

const { title = "Repositorios de GitHub", titleKey, projects } = Astro.props;
---

<div class="projects-panel">
    <header class="panel-header">
        <h3 class="card-title" data-i18n-key={titleKey}>{title}</h3>
    </header>
    <div class="projects-grid">
        {projects.map((project) => <ProjectItem {...project} />)}
    </div>
</div>

<style>
    .projects-panel {
        display: flex;
        flex-direction: column;
        width: 100%;
        height: 100%;
        max-height: 100%;
        min-height: 0;
        gap: 8px;
        margin: 0;
        padding: 0;
        overflow: hidden;
    }

    .panel-header {
        flex: 0 0 auto;
        min-height: 0;
    }

    .projects-grid {
        flex: 1 1 auto;
        min-height: 0;
        max-height: 100%;
        display: grid;
        gap: 8px;
        grid-template-columns: repeat(auto-fit, minmax(min(280px, 100%), 1fr));
        grid-auto-rows: minmax(0, 1fr);
        align-content: start;
        overflow-y: auto;
        overflow-x: hidden;
        padding: 2px;
    }

    .projects-grid::-webkit-scrollbar {
        width: 6px;
    }

    .projects-grid::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.12);
        border-radius: 999px;
    }

    @media (max-width: 900px) {
        .panel-header h3 {
            font-size: 1.5rem;
        }
    }
</style>
